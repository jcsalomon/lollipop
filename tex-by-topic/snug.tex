\def\snugbox{\hbox\bgroup\setbox\z@\vbox\bgroup    \leftskip\z@    \bgroup\aftergroup\make@snug    \let\next=}\def\make@snug{\par\sn@gify\egroup \box\z@\egroup}\def\sn@gify   {\skip\z@=\lastskip \unskip    \advance\skip\z@\lastskip \unskip    \unpenalty    \setbox\z@\lastbox    \ifvoid\z@ \nointerlineskip \else {\sn@gify} \fi    \hbox{\unhbox\z@}\nointerlineskip    \vskip\skip\z@    }\endinput